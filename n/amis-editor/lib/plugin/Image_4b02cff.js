amis.define("f299ba1",(function(e,a,t,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("849c8c1"),n=e("8ba532b"),b=e("fb32b1a"),c=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"image"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/ImageSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("67997ccf7ea846c3c2d278b01ed9600b")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("6dcf991e992a0b765df0933411fe9bb2")}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[b.i18n("027446c2f9070b0f5b16a18208bf5fc7")]}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-photo"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"image-plugin"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"image"}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:l.__assign(l.__assign({},a.scaffold),{thumbMode:"cover",value:n.mockValue({type:"image"})})}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("20def7942674282277c3714ed7ea6ce0")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var a=/\/field\/\w+$/.test(e.path);return[n.getSchemaTpl("tabs",[{title:b.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[n.getSchemaTpl("layout:originPosition",{value:"left-top"}),{name:"imageMode",label:b.i18n("1fdadb49bcabfdc36a4a9e020f597f4d"),type:"select",pipeIn:n.defaultValue("thumb"),options:[{label:b.i18n("e18aa5e376437da71083a29c4cddaf46"),value:"thumb"},{label:b.i18n("fb43d5ffa21f3c4055c29fad350f27e4"),value:"original"}]},n.getSchemaTpl("title",{label:b.i18n("c6c7456d446d62a906c2809b6ba19ce1")}),n.getSchemaTpl("imageCaption"),{name:"width",label:b.i18n("c28479019e24e0e4745f4948e9e97ee7"),type:"input-number"},{name:"height",label:b.i18n("c1df04eec5fa0857bc0df2d68d8e953c"),type:"input-number"},a?null:n.getSchemaTpl("imageUrl",{name:"src",type:"input-text",label:b.i18n("582570bef8c57c5af7658c4a4eea45ff"),description:b.i18n("1193e1aab7bea094279ae7b4288ba848")}),{type:"input-text",label:b.i18n("a3f38735bf211edb2066ac4e51b55cb2"),name:"href"},n.getSchemaTpl("imageUrl",{name:"defaultImage",label:b.i18n("f5865bf2d791d293374af4aa76d27c4d")})]},{title:b.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[n.getSchemaTpl("switch",{name:"enlargeAble",label:b.i18n("e1110b854bceeed0e887cb951bb3d2f3")}),n.getSchemaTpl("imageUrl",{name:"originalSrc",visibleOn:"this.enlargeAble",label:b.i18n("7ffade593e390a2a2cc43e6663461b71"),description:b.i18n("214953c5f7557b1a5f1310c87238ee03")}),n.getSchemaTpl("switch",{name:"showDimensions",label:b.i18n("6d45b56ee94ea873a554ec41b9f2074a")}),{name:"thumbMode",type:"button-group-select",label:b.i18n("00cedb73310cc531a43d23cfa5ba0e5f"),size:"sm",pipeIn:n.defaultValue("contain"),options:[{label:b.i18n("b0267f4aa776e75443b7ef6e8dad257e"),value:"w-full"},{label:b.i18n("c30b1b6f29debb05449aa3cb40268e7e"),value:"h-full"},{label:b.i18n("e13556bb3580ac3746e1f8663eb15896"),value:"contain"},{label:b.i18n("47303119ba97a66d168ff042575b9de4"),value:"cover"}]},{name:"thumbRatio",type:"button-group-select",label:b.i18n("319501b9acacdd6f94a9bdd0637a3cd2"),size:"sm",pipeIn:n.defaultValue("1:1"),options:[{label:"1:1",value:"1:1"},{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}]},n.getSchemaTpl("className",{autoComplete:!1}),n.getSchemaTpl("className",{name:"innerClassName",label:b.i18n("5d3d48de1ba22368eacdc1c69fb044ce")}),n.getSchemaTpl("className",{name:"imageClassName",label:b.i18n("b8e1e46cbdea20de4e5fc130d31b7bcc")}),n.getSchemaTpl("className",{name:"thumbClassName",label:b.i18n("4d080f1e18d86051b8d651c68685f319")})]},{title:b.i18n("33bf801796fd255b5f6147e33146669b"),body:[n.getSchemaTpl("visible")]}])]}}),a}return l.__extends(a,e),Object.defineProperty(a.prototype,"onActive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,t=e.context;if((null===(a=t.info)||void 0===a?void 0:a.plugin)===this&&t.node){var i=t.node;i.setHeightMutable(!0),i.setWidthMutable(!0)}}}),Object.defineProperty(a.prototype,"onWidthChangeStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.onSizeChangeStart(e,"horizontal")}}),Object.defineProperty(a.prototype,"onHeightChangeStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.onSizeChangeStart(e,"vertical")}}),Object.defineProperty(a.prototype,"onSizeChangeStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var t;void 0===a&&(a="both");var i=e.context,l=i.node;if((null===(t=l.info)||void 0===t?void 0:t.plugin)===this){var n=i.resizer,b=i.dom,c=b.parentElement.getBoundingClientRect(),r=b.getBoundingClientRect(),o=i.nativeEvent.pageX,u=i.nativeEvent.pageY;e.setData({onMove:function(e){var t=e.pageY-u,i=e.pageX-o,b=Math.max(50,r.height+t),d=Math.max(100,Math.min(r.width+i,c.width)),f={width:d,height:b};"both"===a?n.setAttribute("data-value","".concat(d,"px x ").concat(b,"px")):"vertical"===a?(n.setAttribute("data-value","".concat(b,"px")),delete f.width):(n.setAttribute("data-value","".concat(d,"px")),delete f.height),l.updateState(f),requestAnimationFrame((function(){l.calculateHighlightBox()}))},onEnd:function(e){var t=e.pageY-u,i=e.pageX-o,b=Math.max(50,r.height+t),d={width:Math.max(100,Math.min(r.width+i,c.width)),height:b};"vertical"===a?delete d.width:"horizontal"===a&&delete d.height,n.removeAttribute("data-value"),l.updateSchema(d),requestAnimationFrame((function(){l.calculateHighlightBox()}))}})}}}),a}(n.BasePlugin);n.registerEditorPlugin(c),a.ImagePlugin=c}));